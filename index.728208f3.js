function t(t,o,e,s){Object.defineProperty(t,o,{get:e,set:s,enumerable:!0,configurable:!0})}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},s={},n=o.parcelRequire0a78;null==n&&((n=function(t){if(t in e)return e[t].exports;if(t in s){var o=s[t];delete s[t];var n={id:t,exports:{}};return e[t]=n,o.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,o){s[t]=o},o.parcelRequire0a78=n),n.register("kyEFX",(function(o,e){var s,n;t(o.exports,"register",(function(){return s}),(function(t){return s=t})),t(o.exports,"resolve",(function(){return n}),(function(t){return n=t}));var r={};s=function(t){for(var o=Object.keys(t),e=0;e<o.length;e++)r[o[e]]=t[o[e]]},n=function(t){var o=r[t];if(null==o)throw new Error("Could not resolve bundle with id "+t);return o}})),n("kyEFX").register(JSON.parse('{"5ZPII":"index.728208f3.js","8ovDh":"support-img1.a2f76ef8.png","cUNuN":"support-img2.77b370d8.png","hBvZY":"support-img3.15050564.png","ctymN":"support-img4.237e22ae.png","aMc5M":"support-img5.181cb1fa.png","7ytG9":"support-img6.9b5889b4.png","1lCPH":"support-img7.4459924d.png","eRnj2":"support-img8.88cae6e7.png","gImvE":"support-img9.b95fdd75.png"}'));async function r(t){const o=await fetch(`https://books-backend.p.goit.global/books/${t}`);if(!o.ok)throw new Error(o.status);return await o.json()}async function a(t){const o=await fetch(`https://books-backend.p.goit.global/books/category?category=${t}`);if(!o.ok)throw new Error(o.status);return await o.json()}const i=document.querySelector(".list-categories"),c=document.querySelector(".books-cards__list");function l(){document.querySelector(".books-cards__title").remove(),function(){document.querySelectorAll(".category__link").forEach((t=>{t.classList.remove("current-category")}));const t=document.querySelector(".category__link-all");t.classList.contains("current-category")&&t.classList.remove("current-category")}(),c.innerHTML=""}function u(t){const o=t.split(" "),e=o.pop(o[o.length-1]),s=`<h1 class="books-cards__title">${o.join(" ")}\n        <span class="books-cards__title-accent"> ${e}</span></h1>`;c.insertAdjacentHTML("beforebegin",s)}function d(t){const o=t.map((t=>{const{_id:o,book_image:e,title:s,author:n}=t;return`\n    <li data-id="${o}" class="category-books__item">\n    <a href="" class="category-books__link">\n    <div class="category-books__img-thumb">\n    <img src="${e}" alt="${s}" class="category-books__img">\n    <p class="card-overlay">Quick view</p>\n    </div>\n    <h2 class="category-books__title">${s}</h2>\n    <p class="category-books__author">${n}</p>\n    </a>\n    </li>`})).join("");c.insertAdjacentHTML("beforeend",o)}i.addEventListener("click",(async function(t){c.classList.remove("top-books-list"),c.classList.add("category-books-list"),t.preventDefault(),t.target.classList.contains("category__link-all")&&(l(),t.target.classList.add("current-category"),p());if(t.target.classList.contains("category__link")){l();const o=t.target.textContent;t.target.classList.add("current-category"),u(o);d(await a(o))}}));const g={booksCardsList:document.querySelector(".books-cards__list"),booksCardsTitle:null,topBooksCategories:null,booksCardsButton:null};function p(){r("top-books").then((t=>{console.log(g.booksCardsList),g.booksCardsList.classList.remove("category-books-list"),g.booksCardsList.classList.add("top-books-list"),g.booksCardsList.innerHTML="",u("Best Sellers Books"),function(t){const o=t.map((({list_name:t})=>`\n    <li class="top-books__item">\n    <h2 class="top-books-title">${t}</h2>\n    <ul class="top-books-categories__list">\n                \n    </ul>\n    <div class="top-books__button-box">\n    <button class="top-books__button" data-list_name="${t}">See More</button>\n    </div>\n    </li>\n    `)).join("");g.booksCardsList.insertAdjacentHTML("beforeend",o)}(t),g.topBooksCategories=document.querySelectorAll(".top-books-categories__list"),g.booksCardsButton=document.querySelector(".top-books__button"),function(t){let o=0;console.log(t[o].books),g.topBooksCategories.forEach((e=>{const s=t[o].books.map((({_id:t,book_image:o,title:e,author:s})=>`\n          <li data-id="${t}" class="category-books__item is-hidden-books">\n          <a href="" class="category-books__link">\n          <div class="category-books__img-thumb">\n          <img src="${o}" alt="${e}" class="category-books__img">\n          <p class="card-overlay">Quick view</p>\n          </div>\n          <h2 class="category-books__title">${e}</h2>\n          <p class="category-books__author">${s}</p>\n          </a>\n          </li>`)).join("");e.insertAdjacentHTML("beforeend",s),o++}))}(t)})).catch((()=>{console.log("Проблема з запитом!")}))}g.booksCardsList.addEventListener("click",(async function(t){if(t.preventDefault(),!t.target.classList.contains("top-books__button"))return void console.log("Ти натиснув не на кнопку.");console.log("Ти натиснув на кнопку."),g.booksCardsList.classList.remove("top-books-list"),g.booksCardsList.classList.add("category-books-list");const o=t.target.dataset.list_name;console.log(o),g.booksCardsTitle=document.querySelector(".books-cards__title"),g.booksCardsTitle.remove(),u(o),g.booksCardsList.innerHTML="";d(await a(o))})),p();const k=document.querySelector(".list-categories");k.insertAdjacentHTML("afterbegin",'<li><a href="./index.html" class="category__link-all">All category</a></li>'),async function(){const t=await r("category-list"),o=[];for(const{list_name:e}of t)o.push(e);console.log(o);const e=o.sort(((t,o)=>t.localeCompare(o))).map((t=>`<li class="category__item"><a href="" class="category__link">${t}</a></li>`)).join("");k.insertAdjacentHTML("beforeend",e)}();var _;_=new URL(n("kyEFX").resolve("8ovDh"),import.meta.url).toString();var b;b=new URL(n("kyEFX").resolve("cUNuN"),import.meta.url).toString();var m;m=new URL(n("kyEFX").resolve("hBvZY"),import.meta.url).toString();var y;y=new URL(n("kyEFX").resolve("ctymN"),import.meta.url).toString();var f;f=new URL(n("kyEFX").resolve("aMc5M"),import.meta.url).toString();var h;h=new URL(n("kyEFX").resolve("7ytG9"),import.meta.url).toString();var v;v=new URL(n("kyEFX").resolve("1lCPH"),import.meta.url).toString();var w;w=new URL(n("kyEFX").resolve("eRnj2"),import.meta.url).toString();var L;L=new URL(n("kyEFX").resolve("gImvE"),import.meta.url).toString();const S=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:new URL(_)},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:new URL(b)},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:new URL(m)},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:new URL(y)},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:new URL(f)},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:new URL(h)},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:new URL(v)},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:new URL(w)},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:new URL(L)}],E=document.querySelector(".list-support"),H=S.map((({title:t,url:o,img:e})=>`<li class="support__item">\n            <a class="support__link" href="${o}">\n                <img\n                    class="support__image"\n                    src="${e}"\n                    target="_blank"\n                    data-source="${o}"\n                    alt="${t}"\n                />\n            </a>\n        </li>`)).join("");E.insertAdjacentHTML("beforeend",H);const R=document.querySelector(".books-cards__list"),C=document.querySelector(".backdrop--hidden"),$=document.querySelector(".close-btn"),F=document.querySelector(".book-container");function j(){C.classList.add("backdrop--hidden"),F.innerHTML=""}R.addEventListener("click",(async function(t){if("IMG"===t.target.nodeName){$.addEventListener("click",j);const o=t.target.closest(".category-books__item").dataset.id;C.classList.remove("backdrop--hidden");const e=await r(o);console.log(e),F.insertAdjacentHTML("beforeend",function({book_image:t,buy_links:o,title:e,description:s,author:n}){return`<img src="${t}" alt="${e}" />\n  <h2>${e}</h2>\n  <p>${n}</p>\n  <p>${s}</p>\n  <svg width="10" height="10"><use href="${o}"></use></svg>`}(e))}}));
//# sourceMappingURL=index.728208f3.js.map
