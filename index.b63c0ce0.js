async function o(o){const t=await fetch(`https://books-backend.p.goit.global/books/${o}`);if(!t.ok)throw new Error(t.status);return await t.json()}async function t(o){const t=await fetch(`https://books-backend.p.goit.global/books/category?category=${o}`);if(!t.ok)throw new Error(t.status);return await t.json()}const e={booksCardsList:document.querySelector(".books-cards__list"),booksCardsTitle:document.querySelector(".books-cards__title"),topBooksCategories:null,booksCardsButton:null};e.booksCardsList.addEventListener("click",(async function(o){if(o.preventDefault(),!o.target.classList.contains("books-cards__button"))return void console.log("Ти натиснув не на кнопку.");console.log("Ти натиснув на кнопку.");const s=o.target.dataset.list_name;e.booksCardsTitle.textContent=s,e.booksCardsList.innerHTML="";!function(o){const t=o.map((o=>{const{book_image:t,title:e,author:s}=o;return`\n    <li>\n    <img src="${t}" alt="${e}">\n    <h2>${e}</h2>\n    <p>${s}</p>\n    </li>`})).join("");e.booksCardsList.insertAdjacentHTML("beforeend",t)}(await t(s))})),o("top-books").then((o=>{console.log(e.booksCardsList),function(o){e.booksCardsList.innerHTML="",e.booksCardsTitle.textContent="Best Sellers Books",function(o){const t=o.map((({list_name:o})=>`\n    <li class="books-cards__item">\n    <h2 class="top-books-title">${o}</h2>\n    <ul class="top-books-categories">\n                \n    </ul>\n    <button class="books-cards__button" data-list_name="${o}">See More</button>\n    </li>\n    `)).join("");e.booksCardsList.insertAdjacentHTML("beforeend",t)}(o),e.topBooksCategories=document.querySelectorAll(".top-books-categories"),e.booksCardsButton=document.querySelector(".books-cards__button"),function(o){let t=0;console.log(o[t].books),e.topBooksCategories.forEach((e=>{const s=o[t].books.map((({book_image:o,title:t,author:e})=>`\n          <li>\n          <img src="${o}" alt="${t}">\n          <h2>${t}</h2>\n          <p>${e}</p>\n          </li>`)).join("");e.insertAdjacentHTML("beforeend",s),t++}))}(o)}(o)})).catch((()=>{console.log("Проблема з запитом!")}));const s=document.querySelector(".list-categories"),n=document.querySelector(".books-cards__list"),a=document.querySelector(".books-cards__title");s.addEventListener("click",(async function(o){if(n.classList.add("category-books-list"),o.preventDefault(),o.target.classList.contains("category__link")){document.querySelectorAll(".category__link").forEach((o=>{o.classList.remove("current-category")})),n.innerHTML="";const e=o.target.textContent;o.target.classList.add("current-category"),a.textContent=e;!function(o){const t=o.map((o=>{const{_id:t,book_image:e,title:s,author:n}=o;return`\n    <li data-id="${t}" class="category-books__item">\n    <img src="${e}" alt="${s}" class="category-books__img">\n    <h2 class="category-books__title">${s}</h2>\n    <p class="category-books__author">${n}</p>\n    </li>`})).join("");n.insertAdjacentHTML("beforeend",t)}(await t(e))}}));const c=document.querySelector(".list-categories");c.insertAdjacentHTML("afterbegin",'<li><a href="./index.html" class="category__link-all">All category</a></li>'),async function(){const t=await o("category-list"),e=[];for(const{list_name:o}of t)e.push(o);console.log(e);const s=e.sort(((o,t)=>o.localeCompare(t))).map((o=>`<li class="category__item"><a href="" class="category__link">${o}</a></li>`)).join("");c.insertAdjacentHTML("beforeend",s)}();
//# sourceMappingURL=index.b63c0ce0.js.map
