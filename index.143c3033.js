!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},a=e.parcelRequire0a78;null==a&&((a=function(t){if(t in o)return o[t].exports;if(t in n){var e=n[t];delete n[t];var a={id:t,exports:{}};return o[t]=a,e.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){n[t]=e},e.parcelRequire0a78=a),a("iE7OH").register(JSON.parse('{"EVgbq":"index.143c3033.js","cX5t3":"amazonLogo.65e47238.png","2t6si":"bookLogo.22ccf33c.png","idSWj":"bookShopLogo.082e3bff.png","ee16w":"sprite.c1e418d9.svg","5UbS1":"index.1a26781c.css","1bhX6":"index.d3e605df.js"}'));var r=a("bpxeT"),s=a("2TvXO"),c=(r=a("bpxeT"),s=a("2TvXO"),"https://books-backend.p.goit.global/books/");function i(t){return l.apply(this,arguments)}function l(){return(l=t(r)(t(s).mark((function e(o){var n,a;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(c).concat(o));case 2:if((n=t.sent).ok){t.next=5;break}throw new Error(n.status);case 5:return t.next=7,n.json();case 7:return a=t.sent,t.abrupt("return",a);case 9:case"end":return t.stop()}}),e)})))).apply(this,arguments)}r=a("bpxeT"),s=a("2TvXO");var u="https://books-backend.p.goit.global/books/category?category=";function d(t){return p.apply(this,arguments)}function p(){return(p=t(r)(t(s).mark((function e(o){var n,a;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(u).concat(o));case 2:if((n=t.sent).ok){t.next=5;break}throw new Error(n.status);case 5:return t.next=7,n.json();case 7:return a=t.sent,t.abrupt("return",a);case 9:case"end":return t.stop()}}),e)})))).apply(this,arguments)}r=a("bpxeT"),s=a("2TvXO");var m=a("6JpON");function b(){t(m).Loading.hourglass({clickToClose:!0,svgColor:"#4F2EE8"})}function g(){t(m).Loading.remove()}function k(){document.getElementById("category-section").scrollIntoView({behavior:"smooth",block:"start"})}var h=document.querySelector(".list-categories"),f=document.querySelector(".books-cards__list");function _(){return(_=t(r)(t(s).mark((function e(o){var n;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f.classList.remove("top-books-list"),f.classList.add("category-books-list"),o.preventDefault(),o.target.classList.contains("category__link-all")&&(v(),o.target.classList.add("current-category"),T(),k()),!o.target.classList.contains("category__link")){t.next=16;break}return b(),v(),n=o.target.textContent,o.target.classList.add("current-category"),y(n),t.next=12,d(n);case 12:L(t.sent),g(),k();case 16:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function v(){var t=document.querySelector(".books-cards__title");t&&t.remove(),function(){document.querySelectorAll(".category__link").forEach((function(t){t.classList.remove("current-category")}));var t=document.querySelector(".category__link-all");t.classList.contains("current-category")&&t.classList.remove("current-category")}(),f.innerHTML=""}function y(t){var e=t.split(" "),o=e.pop(e[e.length-1]),n='<h1 class="books-cards__title">'.concat(e.join(" "),'\n        <span class="books-cards__title-accent"> ').concat(o,"</span></h1>");f.insertAdjacentHTML("beforebegin",n)}function L(t){var e=t.map((function(t){var e=t._id,o=t.book_image,n=t.title,a=t.author;return'\n    <li data-id="'.concat(e,'" class="category-books__item">\n    <a href="" class="category-books__link">\n    <div class="category-books__img-thumb">\n    <img src="').concat(o,'" alt="').concat(n,'" class="category-books__img">\n    <p class="card-overlay">Quick view</p>\n    </div>\n    <h2 class="category-books__title">').concat(n,'</h2>\n    <p class="category-books__author">').concat(a,"</p>\n    </a>\n    </li>")})).join("");f.insertAdjacentHTML("beforeend",e)}function x(){window.scrollTo({top:0,behavior:"smooth"})}h.addEventListener("click",(function(t){return _.apply(this,arguments)})),{btnToTop:document.querySelector(".button-up")}.btnToTop.addEventListener("click",(function(){x()}));var w=a("8nrFW");function E(e){var o=document.querySelectorAll(".js-cat-link");console.log(o),t(w)(o).forEach((function(t){t.textContent===e?t.classList.add("current-category"):t.classList.contains("current-category")&&t.classList.remove("current-category")}))}var S={booksCardsList:document.querySelector(".books-cards__list"),booksCardsTitle:null,topBooksCategories:null,booksCardsButton:null};function T(){b(),i("top-books").then((function(t){var e;console.log(S.booksCardsList),S.booksCardsList.classList.remove("category-books-list"),S.booksCardsList.classList.add("top-books-list"),S.booksCardsList.innerHTML="",y("Best Sellers Books"),e=t.map((function(t){var e=t.list_name;return'\n    <li class="top-books__item">\n    <h2 class="top-books-title">'.concat(e,'</h2>\n    <ul class="top-books-categories__list">\n                \n    </ul>\n    <div class="top-books__button-box">\n    <button class="top-books__button" data-list_name="').concat(e,'">See More</button>\n    </div>\n    </li>\n    ')})).join(""),S.booksCardsList.insertAdjacentHTML("beforeend",e),S.topBooksCategories=document.querySelectorAll(".top-books-categories__list"),S.booksCardsButton=document.querySelector(".top-books__button"),function(t){var e=0;console.log(t[e].books),S.topBooksCategories.forEach((function(o){var n=t[e].books.map((function(t){var e=t._id,o=t.book_image,n=t.title,a=t.author;return'\n          <li data-id="'.concat(e,'" class="category-books__item is-hidden-books">\n          <a href="" class="category-books__link">\n          <div class="category-books__img-thumb">\n          <img src="').concat(o,'" alt="').concat(n,'" class="category-books__img">\n          <p class="card-overlay">Quick view</p>\n          </div>\n          <h2 class="category-books__title">').concat(n,'</h2>\n          <p class="category-books__author">').concat(a,"</p>\n          </a>\n          </li>")})).join("");o.insertAdjacentHTML("beforeend",n),e++}))}(t),g()})).catch((function(){console.log("Проблема з запитом!")}))}function j(){return(j=t(r)(t(s).mark((function e(o){var n,a;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o.preventDefault(),o.target.classList.contains("top-books__button")){t.next=4;break}return console.log("Ти натиснув не на кнопку."),t.abrupt("return");case 4:return console.log("Ти натиснув на кнопку."),S.booksCardsList.classList.remove("top-books-list"),S.booksCardsList.classList.add("category-books-list"),n=o.target.dataset.list_name,console.log(n),S.booksCardsTitle=document.querySelector(".books-cards__title"),S.booksCardsTitle.remove(),E(n),y(n),S.booksCardsList.innerHTML="",b(),t.next=17,d(n);case 17:a=t.sent,g(),x(),L(a);case 21:case"end":return t.stop()}}),e)})))).apply(this,arguments)}S.booksCardsList.addEventListener("click",(function(t){return j.apply(this,arguments)})),T();r=a("bpxeT"),s=a("2TvXO");var C=document.querySelector(".list-categories");function H(){return(H=t(r)(t(s).mark((function e(){var o,n,a,r,c,l,u,d,p;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i("category-list");case 2:for(o=t.sent,n=[],a=!0,r=!1,c=void 0,t.prev=5,l=o[Symbol.iterator]();!(a=(u=l.next()).done);a=!0)d=u.value.list_name,n.push(d);t.next=13;break;case 9:t.prev=9,t.t0=t.catch(5),r=!0,c=t.t0;case 13:t.prev=13,t.prev=14,a||null==l.return||l.return();case 16:if(t.prev=16,!r){t.next=19;break}throw c;case 19:return t.finish(16);case 20:return t.finish(13);case 21:console.log(n),p=n.sort((function(t,e){return t.localeCompare(e)})).map((function(t){return'<li class="category__item"><a href="#category-title" class="js-cat-link category__link">'.concat(t,"</a></li>")})).join(""),C.insertAdjacentHTML("beforeend",p);case 24:case"end":return t.stop()}}),e,null,[[5,9,13,21],[14,,16,20]])})))).apply(this,arguments)}C.insertAdjacentHTML("afterbegin",'<li><a href="#category-title" class="js-cat-link category__link-all current-category">All category</a></li>'),function(){H.apply(this,arguments)}(),a("xpKCW");r=a("bpxeT");var q,M=a("1t1Wn"),N=(s=a("2TvXO"),a("95ECi"));q=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("cX5t3");var A;A=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("2t6si");var O;O=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("idSWj");var B=document.querySelector(".books-cards__list"),z=document.querySelector(".backdrop"),R=document.querySelector(".close-btn"),D=document.querySelector(".book-container"),F=document.querySelector(".modal__btn"),U=document.querySelector(".modal-book-btn__signUp"),V=document.querySelector(".information-about-status");function X(){return(X=t(r)(t(s).mark((function e(o){var n,a,r,c,l,u;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=!0,"DIV"!==o.target.nodeName&&"P"!==o.target.nodeName&&"H2"!==o.target.nodeName&&"A"!==o.target.nodeName){t.next=25;break}return D.innerHTML="",R.addEventListener("click",K),a=o.target.closest(".category-books__item"),r=a.dataset.id,z.classList.remove("backdrop--hidden"),t.next=9,i(r);case 9:return c=t.sent,console.log(c.buy_links),D.insertAdjacentHTML("beforeend",W(c)),t.next=14,(0,N.getBook)();case 14:if(null===(l=t.sent)){t.next=24;break}u=0;case 17:if(!(u<l.length)){t.next=24;break}if(l[u]._id!==r){t.next=21;break}return n=!1,t.abrupt("break",24);case 21:u++,t.next=17;break;case 24:n?(F.textContent="Add to shopping list",V.classList.add("is-hidden")):(F.textContent="Remove from the shopping list",V.classList.remove("is-hidden"));case 25:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=t(r)(t(s).mark((function e(o){var n,a,r,c,l;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!0,t.next=3,(0,N.getBook)();case 3:return a=t.sent,r=F.dataset.id,t.next=7,i(r);case 7:if(c=t.sent,null===a){t.next=17;break}l=0;case 10:if(!(l<a.length)){t.next=17;break}if(a[l]._id!==r){t.next=14;break}return n=!1,t.abrupt("break",17);case 14:l++,t.next=10;break;case 17:n?((0,N.postBook)(c),F.textContent="Remove from the shopping list",V.classList.remove("is-hidden")):((0,N.deleteBook)(r),F.textContent="Add to shopping list",V.classList.add("is-hidden"));case 18:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function K(){z.classList.add("backdrop--hidden"),D.innerHTML=""}function W(e){var o=e._id,n=e.book_image,a=t(M)(e.buy_links,3),r=a[0],s=r.name,c=r.url,i=a[1],l=i.name,u=i.url,d=a[2],p=d.name,m=d.url,b=e.title,g=e.description,k=e.author,h='<img src="'.concat(n,'" alt="').concat(b,'"  class="book-cover"/>\n  <div class="text-container"><h2 class="book-cover__title">').concat(b,'</h2>\n  <p class="book-cover__author">').concat(k,'</p>\n  <p class="book-cover__description">').concat(g||"No description",'</p>\n  <ul class="store-icons">\n  <li class="store-icons__item">\n    <a href="').concat(c,'"\n      ><img\n        src="').concat(t(q),'"\n        alt="').concat(s,'"\n        width="62"\n        height="19"\n        class="store-icon"\n        target="_blank" \n    /></a>\n  </li>\n  <li class="store-icons__item">\n    <a href="').concat(u,'" target="_blank" \n      ><img\n        src="').concat(t(A),'"\n        alt="').concat(l,'"\n        width="33"\n        height="32"\n        class="store-icon"\n    /></a>\n  </li>\n  <li class="store-icons__item">\n    <a href="').concat(m,'"\n    target="_blank"><img\n        src="').concat(t(O),'"\n        alt="').concat(p,'"\n        width="38"\n        height="36"\n        class="store-icon"\n    /></a>\n  </li>\n</ul>\n  </div>');return F.dataset.id="".concat(o),h}B.addEventListener("click",(function(t){return X.apply(this,arguments)})),U.addEventListener("click",N.openSignUpFunc),F.addEventListener("click",(function(t){return J.apply(this,arguments)})),z.addEventListener("click",(function(t){t.target.classList.contains("backdrop")&&z.classList.add("backdrop--hidden")})),window.addEventListener("keydown",(function(t){"Escape"===t.code&&z.classList.add("backdrop--hidden")})),a("95ECi"),a("jCI1E"),a("llppj");var I,P=[{name:"Nazar Mural",position:"Team Lead, Developer",description:"",img:"https://raw.githubusercontent.com/NazarMural/project-bookshelf/main/src/images/team/nazar-mural.jpg",url:"https://github.com/NazarMural"},{name:"Oleksii Maiok",position:"Scrum, Developer",description:"",img:"https://raw.githubusercontent.com/NazarMural/project-bookshelf/main/src/images/team/nazar-mural.jpg",url:"https://github.com/Maniyavel"},{name:"Alona Kuznietsova",position:"Developer",description:"",img:"https://raw.githubusercontent.com/NazarMural/project-bookshelf/main/src/images/team/nazar-mural.jpg",url:"https://github.com/acvetochka"},{name:"Kate Chernysheva",position:"Developer",description:"",img:"https://raw.githubusercontent.com/NazarMural/project-bookshelf/main/src/images/team/kate-chernysheva.jpg",url:"https://github.com/kateChernysheva1"},{name:"Tetiana Palii",position:" Developer",description:"",img:"https://raw.githubusercontent.com/NazarMural/project-bookshelf/main/src/images/team/tetiana-palii.jpg",url:"https://github.com/TetiPalii"},{name:"Viktoriia Khmelevska",position:"Developer",description:"",img:"https://raw.githubusercontent.com/NazarMural/project-bookshelf/main/src/images/team/nazar-mural.jpg",url:"https://github.com/ViktoriiaKhmelevska"},{name:"Nataliia Korotych",position:"Scrum, Developer",description:"",img:"https://raw.githubusercontent.com/NazarMural/project-bookshelf/main/src/images/team/natalia-korotych.jpg",url:"https://github.com/Nataliia-84"}];I=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("ee16w");var Q,G=document.querySelector(".modal-team__list"),Y=document.querySelector(".footer-link"),Z=document.querySelector(".modal-team__close-btn"),$=document.querySelector("[data-modal-team]");function tt(t){t.preventDefault(),document.body.classList.toggle("modal-team-open"),$.classList.toggle("backdrop-team--hidden")}Q=P.map((function(e){var o=e.name,n=e.img,a=e.position,r=e.url;return' <li class="modal-team__item">\n  <div class="modal-team__img-container">\n      <img class="modal-team__img" src="'.concat(n,'" alt="').concat(o,'" width="150" height="150">\n              <a class="modal-team__link-github" target="_blanc" href="').concat(r,'">\n              <svg class="modal-team__icon-github" width="24" height="24">\n              <use href="').concat(t(I),'#icon-github"></use>\n          </svg></a>\n      </svg>\n  </div>\n  <h3 class="modal-team__title">').concat(o,'</h3>\n  <span class="modal-team__description">').concat(a,"</span>\n</li>")})).join(""),G.insertAdjacentHTML("beforeend",Q),Y.addEventListener("click",tt),Z.addEventListener("click",tt),document.body.addEventListener("keyup",(function(t){27===t.keyCode&&($.classList.remove("backdrop-team--hidden"),document.body.classList.remove("modal-team-open"))}),!1)}();
//# sourceMappingURL=index.143c3033.js.map
