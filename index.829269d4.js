async function t(t){const o=await fetch(`https://books-backend.p.goit.global/books/${t}`);if(!o.ok)throw new Error(o.status);return await o.json()}const o={booksCardsList:document.querySelector(".books-cards__list")};t("top-books").then((t=>{console.log(t),console.log(t[0].list_name),function(t){const e=t.map((({list_name:t})=>`\n    <li class="books-cards__item">\n    <h2 class="top-books-title">${t}</h2>\n    <ul class="top-books-categories">\n                \n    </ul>\n    <button data-list_name="${t}">See More</button>\n    </li>\n    `)).join("");o.booksCardsList.insertAdjacentHTML("beforeend",e)}(t),o.topBooksCategories=document.querySelectorAll(".top-books-categories"),function(t){let e=0;console.log(t[e].books),o.topBooksCategories.forEach((o=>{const n=t[e].books.map((({book_image:t,title:o,author:e})=>`\n          <li>\n          <img src="${t}" alt="${o}">\n          <h2>${o}</h2>\n          <p>${e}</p>\n          </li>`)).join("");o.insertAdjacentHTML("beforeend",n),e++}))}(t)})).catch((()=>{console.log("Проблема з запитом!")}));async function e(t){const o=await fetch(`https://books-backend.p.goit.global/books/category?category=${t}`);if(!o.ok)throw new Error(o.status);return await o.json()}const n=document.querySelector(".list-categories"),s=document.querySelector(".books-cards__list"),a=document.querySelector(".books-cards__title");n.addEventListener("click",(async function(t){if(t.preventDefault(),!t.target.classList.contains("category__link"))return;document.querySelectorAll(".category__link").forEach((t=>{t.classList.remove("current-category")})),s.innerHTML="";const o=t.target.textContent;t.target.classList.add("current-category"),a.textContent=o;!function(t){const o=t.map((t=>{const{book_image:o,title:e,author:n}=t;return`\n    <li>\n    <img src="${o}" alt="${e}">\n    <h2>${e}</h2>\n    <p>${n}</p>\n    </li>`})).join("");s.insertAdjacentHTML("beforeend",o)}(await e(o))}));const c=document.querySelector(".list-categories");c.insertAdjacentHTML("afterbegin",'<li><a href="./index.html" class="category__link">All category</a></li>'),async function(){const o=await t("category-list"),e=[];for(const{list_name:t}of o)e.push(t);console.log(e);const n=e.sort(((t,o)=>t.localeCompare(o))).map((t=>`<li class="category__item"><a href="" class="category__link">${t}</a></li>`)).join("");c.insertAdjacentHTML("beforeend",n)}();
//# sourceMappingURL=index.829269d4.js.map
