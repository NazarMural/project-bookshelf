{"mappings":"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","sources":["src/js/fetch-search-result.js","src/js/fetch-category.js","src/js/book-category.js","src/js/markup-top-books.js","src/js/markup-category-list.js","src/js/aboutBookModal.js"],"sourcesContent":["const BASE_URl = 'https://books-backend.p.goit.global/books/';\n\nexport async function fetchSearchResult(requestTheme) {\n  const response = await fetch(`${BASE_URl}${requestTheme}`);\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  const arrayElements = await response.json();\n\n  return arrayElements;\n}\n","const BASE_URl = 'https://books-backend.p.goit.global/books/category?category=';\n\nexport async function fetchCategoryList(requestTheme) {\n  const response = await fetch(`${BASE_URl}${requestTheme}`);\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  const category = await response.json();\n\n  return category;\n}\n","import { fetchCategoryList } from './fetch-category';\nimport { allCategoryMarkup } from './markup-top-books';\n\nconst listCategory = document.querySelector('.list-categories');\nconst bookSection = document.querySelector('.books-cards__list');\n\nlistCategory.addEventListener('click', onClickCategory);\n\nasync function onClickCategory(evt) {\n  bookSection.classList.remove('top-books-list');\n  bookSection.classList.add('category-books-list');\n  evt.preventDefault();\n  if (evt.target.classList.contains('category__link-all')) {\n    removeMarkup();\n    evt.target.classList.add('current-category');\n    allCategoryMarkup();\n  }\n  if (evt.target.classList.contains('category__link')) {\n    removeMarkup();\n    const category = evt.target.textContent;\n    evt.target.classList.add('current-category');\n    addHeading(category);\n    const categoryItem = await fetchCategoryList(category);\n    createMarkupBooks(categoryItem);\n  }\n}\n\nfunction removeMarkup() {\n  const sectionTitle = document.querySelector('.books-cards__title');\n  sectionTitle.remove();\n  removeCurrentClass();\n  bookSection.innerHTML = '';\n}\n\nfunction addHeading(string) {\n  const arr = string.split(' ');\n  const lastElement = arr.pop(arr[arr.length - 1]);\n  const markup = `<h1 class=\"books-cards__title\">${arr.join(' ')}\n        <span class=\"books-cards__title-accent\"> ${lastElement}</span></h1>`;\n  bookSection.insertAdjacentHTML('beforebegin', markup);\n}\n\nfunction removeCurrentClass() {\n  const allCategory = document.querySelectorAll('.category__link');\n  allCategory.forEach(category => {\n    category.classList.remove('current-category');\n  });\n  const categoryLinkAll = document.querySelector('.category__link-all');\n  if (categoryLinkAll.classList.contains('current-category')) {\n    categoryLinkAll.classList.remove('current-category');\n  }\n}\n\nfunction createMarkupBooks(category) {\n  const markup = category\n    .map(item => {\n      const { _id, book_image, title, author } = item;\n      return `\n    <li data-id=\"${_id}\" class=\"category-books__item\">\n    <a href=\"\" class=\"category-books__link\">\n    <div class=\"category-books__img-thumb\">\n    <img src=\"${book_image}\" alt=\"${title}\" class=\"category-books__img\">\n    <p class=\"card-overlay\">Quick view</p>\n    </div>\n    <h2 class=\"category-books__title\">${title}</h2>\n    <p class=\"category-books__author\">${author}</p>\n    </a>\n    </li>`;\n    })\n    .join('');\n  bookSection.insertAdjacentHTML('beforeend', markup);\n}\n\nexport { createMarkupBooks };\nexport { addHeading };","import { fetchSearchResult } from './fetch-search-result';\nimport { fetchCategoryList } from './fetch-category';\nimport { createMarkupBooks } from './book-category';\nimport { addHeading } from './book-category';\nconst refs = {\n  booksCardsList: document.querySelector('.books-cards__list'),\n  booksCardsTitle: null,\n  topBooksCategories: null,\n  booksCardsButton: null,\n};\n\nrefs.booksCardsList.addEventListener('click', onClickSeeMore);\n\nallCategoryMarkup();\n\nexport function allCategoryMarkup() {\n  fetchSearchResult('top-books')\n    .then(categoriesTopBooks => {\n      console.log(refs.booksCardsList);\n\n      refs.booksCardsList.classList.remove('category-books-list');\n      refs.booksCardsList.classList.add('top-books-list');\n\n      refs.booksCardsList.innerHTML = '';\n      addHeading('Best Sellers Books');\n\n      createCategoriesTopBooksMarkup(categoriesTopBooks);\n\n      refs.topBooksCategories = document.querySelectorAll(\n        '.top-books-categories__list'\n      );\n      refs.booksCardsButton = document.querySelector('.top-books__button');\n\n      createTopBooksMarkup(categoriesTopBooks);\n    })\n    .catch(() => {\n      console.log('Проблема з запитом!');\n    });\n}\n\nfunction createTopBooksMarkup(categoriesTopBooks) {\n  let numberCategories = 0;\n\n  console.log(categoriesTopBooks[numberCategories].books);\n\n  refs.topBooksCategories.forEach(element => {\n    const markup = categoriesTopBooks[numberCategories].books\n      .map(({ _id, book_image, title, author }) => {\n        return `\n          <li data-id=\"${_id}\" class=\"category-books__item is-hidden-books\">\n          <a href=\"\" class=\"category-books__link\">\n          <div class=\"category-books__img-thumb\">\n          <img src=\"${book_image}\" alt=\"${title}\" class=\"category-books__img\">\n          <p class=\"card-overlay\">Quick view</p>\n          </div>\n          <h2 class=\"category-books__title\">${title}</h2>\n          <p class=\"category-books__author\">${author}</p>\n          </a>\n          </li>`;\n      })\n      .join('');\n    element.insertAdjacentHTML('beforeend', markup);\n    numberCategories++;\n  });\n}\n\nfunction createCategoriesTopBooksMarkup(categories) {\n  const markup = categories\n    .map(\n      ({ list_name }) => `\n    <li class=\"top-books__item\">\n    <h2 class=\"top-books-title\">${list_name}</h2>\n    <ul class=\"top-books-categories__list\">\n                \n    </ul>\n    <div class=\"top-books__button-box\">\n    <button class=\"top-books__button\" data-list_name=\"${list_name}\">See More</button>\n    </div>\n    </li>\n    `\n    )\n    .join('');\n\n  refs.booksCardsList.insertAdjacentHTML('beforeend', markup);\n}\n\nasync function onClickSeeMore(evt) {\n  evt.preventDefault();\n  if (!evt.target.classList.contains('top-books__button')) {\n    console.log('Ти натиснув не на кнопку.');\n    return;\n  }\n  console.log('Ти натиснув на кнопку.');\n  refs.booksCardsList.classList.remove('top-books-list');\n  refs.booksCardsList.classList.add('category-books-list');\n  const category = evt.target.dataset.list_name;\n  console.log(category);\n  refs.booksCardsTitle = document.querySelector('.books-cards__title');\n  refs.booksCardsTitle.remove();\n  addHeading(category);\n  refs.booksCardsList.innerHTML = '';\n  const categoryItem = await fetchCategoryList(category);\n  createMarkupBooks(categoryItem);\n}\n","import { fetchSearchResult } from './fetch-search-result';\n\nconst listCategory = document.querySelector('.list-categories');\n\nfunction getMarkupAllCategory() {\n  const markup =\n    '<li><a href=\"./index.html\" class=\"category__link-all\">All category</a></li>';\n  listCategory.insertAdjacentHTML('afterbegin', markup);\n}\n\ngetMarkupAllCategory();\n\nasync function getMarkupCategoryList() {\n  const categoryList = await fetchSearchResult('category-list');\n  const categoryArr = [];\n  for (const { list_name } of categoryList) {\n    categoryArr.push(list_name);\n  }\n  console.log(categoryArr);\n  const markup = categoryArr\n    .sort((a, b) => a.localeCompare(b))\n    .map(\n      item =>\n        `<li class=\"category__item\"><a href=\"\" class=\"category__link\">${item}</a></li>`\n    )\n    .join('');\n  listCategory.insertAdjacentHTML('beforeend', markup);\n}\n\ngetMarkupCategoryList();\n// export { getMarkupCategoryList };\n","import { fetchSearchResult } from './fetch-search-result';\nconst booksCardsList = document.querySelector('.books-cards__list');\nconst backdrop = document.querySelector('.backdrop--hidden');\nconst btnClose = document.querySelector('.close-btn');\nconst bookContainer = document.querySelector('.book-container');\n\nbooksCardsList.addEventListener('click', openModal);\n\nasync function openModal(e) {\n  if (e.target.nodeName === 'IMG') {\n    btnClose.addEventListener('click', onClosebtn);\n    const bookItem = e.target.closest('.category-books__item');\n    const bookId = bookItem.dataset.id;\n    backdrop.classList.remove('backdrop--hidden');\n    const bookMarkup = await fetchSearchResult(bookId);\n    console.log(bookMarkup);\n    bookContainer.insertAdjacentHTML('beforeend', createBookMarup(bookMarkup));\n  }\n}\n\nfunction onClosebtn() {\n  backdrop.classList.add('backdrop--hidden');\n  bookContainer.innerHTML = '';\n}\n// book_image buy_links title description author\n\nfunction createBookMarup({\n  book_image,\n  buy_links,\n  title,\n  description,\n  author,\n}) {\n  const markup = `<img src=\"${book_image}\" alt=\"${title}\" />\n  <h2>${title}</h2>\n  <p>${author}</p>\n  <p>${description}</p>\n  <svg width=\"10\" height=\"10\"><use href=\"${buy_links}\"></use></svg>`;\n\n  return markup;\n}\n"],"names":["async","$f7f0770515855920$export$8c2dda8bf3bd2faf","requestTheme","response","fetch","ok","Error","status","json","$f49a6fd6e2af787b$export$733bdd6f03c986d2","$46ea6eb8fd8011f2$var$listCategory","document","querySelector","$46ea6eb8fd8011f2$var$bookSection","$46ea6eb8fd8011f2$var$removeMarkup","remove","querySelectorAll","forEach","category","classList","categoryLinkAll","contains","$46ea6eb8fd8011f2$var$removeCurrentClass","innerHTML","$46ea6eb8fd8011f2$export$12cc79af70720d3c","string","arr","split","lastElement","pop","length","markup","join","insertAdjacentHTML","$46ea6eb8fd8011f2$export$2e6862ff7870b9bb","map","item","_id","book_image","title","author","addEventListener","evt","add","preventDefault","target","$d0d414804acfff59$export$2cce87bcf2cc71f0","textContent","$d0d414804acfff59$var$refs","booksCardsList","booksCardsTitle","topBooksCategories","booksCardsButton","then","categoriesTopBooks","console","log","categories","list_name","$d0d414804acfff59$var$createCategoriesTopBooksMarkup","numberCategories","books","element","$d0d414804acfff59$var$createTopBooksMarkup","catch","dataset","$2175d1d76e4e8147$var$listCategory","categoryList","categoryArr","push","sort","a","b","localeCompare","$2175d1d76e4e8147$var$getMarkupCategoryList","$abf5fcddc00f81b7$var$booksCardsList","$abf5fcddc00f81b7$var$backdrop","$abf5fcddc00f81b7$var$btnClose","$abf5fcddc00f81b7$var$bookContainer","$abf5fcddc00f81b7$var$onClosebtn","e","nodeName","bookId","closest","id","bookMarkup","buy_links","description","$abf5fcddc00f81b7$var$createBookMarup"],"version":3,"file":"index.ab9c3991.js.map"}