async function t(t){const o=await fetch(`https://books-backend.p.goit.global/books/${t}`);if(!o.ok)throw new Error(o.status);return await o.json()}async function o(t){const o=await fetch(`https://books-backend.p.goit.global/books/category?category=${t}`);if(!o.ok)throw new Error(o.status);return await o.json()}const e={booksCardsList:document.querySelector(".books-cards__list"),booksCardsTitle:document.querySelector(".books-cards__title"),topBooksCategories:null,booksCardsButton:null};e.booksCardsList.addEventListener("click",(async function(t){if(t.preventDefault(),!t.target.classList.contains("books-cards__button"))return void console.log("Ти натиснув не на кнопку.");console.log("Ти натиснув на кнопку.");const n=t.target.dataset.list_name;e.booksCardsTitle.textContent=n,e.booksCardsList.innerHTML="";!function(t){const o=t.map((t=>{const{book_image:o,title:e,author:n}=t;return`\n    <li>\n    <img src="${o}" alt="${e}">\n    <h2>${e}</h2>\n    <p>${n}</p>\n    </li>`})).join("");e.booksCardsList.insertAdjacentHTML("beforeend",o)}(await o(n))})),t("top-books").then((t=>{console.log(e.booksCardsList),function(t){e.booksCardsList.innerHTML="",e.booksCardsTitle.textContent="Best Sellers Books",function(t){const o=t.map((({list_name:t})=>`\n    <li class="books-cards__item">\n    <h2 class="top-books-title">${t}</h2>\n    <ul class="top-books-categories">\n                \n    </ul>\n    <button class="books-cards__button" data-list_name="${t}">See More</button>\n    </li>\n    `)).join("");e.booksCardsList.insertAdjacentHTML("beforeend",o)}(t),e.topBooksCategories=document.querySelectorAll(".top-books-categories"),e.booksCardsButton=document.querySelector(".books-cards__button"),function(t){let o=0;console.log(t[o].books),e.topBooksCategories.forEach((e=>{const n=t[o].books.map((({book_image:t,title:o,author:e})=>`\n          <li>\n          <img src="${t}" alt="${o}">\n          <h2>${o}</h2>\n          <p>${e}</p>\n          </li>`)).join("");e.insertAdjacentHTML("beforeend",n),o++}))}(t)}(t)})).catch((()=>{console.log("Проблема з запитом!")}));const n=document.querySelector(".list-categories"),s=document.querySelector(".books-cards__list"),a=document.querySelector(".books-cards__title");n.addEventListener("click",(async function(t){if(t.preventDefault(),!t.target.classList.contains("category__link"))return;document.querySelectorAll(".category__link").forEach((t=>{t.classList.remove("current-category")})),s.innerHTML="";const e=t.target.textContent;t.target.classList.add("current-category"),a.textContent=e;!function(t){const o=t.map((t=>{const{book_image:o,title:e,author:n}=t;return`\n    <li>\n    <img src="${o}" alt="${e}">\n    <h2>${e}</h2>\n    <p>${n}</p>\n    </li>`})).join("");s.insertAdjacentHTML("beforeend",o)}(await o(e))}));const r=document.querySelector(".list-categories");r.insertAdjacentHTML("afterbegin",'<li><a href="./index.html" class="category__link">All category</a></li>'),async function(){const o=await t("category-list"),e=[];for(const{list_name:t}of o)e.push(t);console.log(e);const n=e.sort(((t,o)=>t.localeCompare(o))).map((t=>`<li class="category__item"><a href="" class="category__link">${t}</a></li>`)).join("");r.insertAdjacentHTML("beforeend",n)}();
//# sourceMappingURL=index.07407d06.js.map
